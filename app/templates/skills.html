{% extends "base.html" %}
{% block content %}

<!-- Tab Navigation using Bootstrap -->
<ul class="nav nav-tabs" id="skillsTabs" role="tablist">
    <li class="nav-item" role="presentation">
        <button class="nav-link active" id="computer-skills-tab" data-bs-toggle="tab" data-bs-target="#computerSkills" type="button" role="tab" aria-controls="computerSkills" aria-selected="true">Computer Skills</button>
    </li>
    <li class="nav-item" role="presentation">
        <button class="nav-link" id="skiing-skills-tab" data-bs-toggle="tab" data-bs-target="#skiingSkills" type="button" role="tab" aria-controls="skiingSkills" aria-selected="false">Snowboarding Skills</button>
    </li>
</ul>

<!-- Tab Content -->
<div class="tab-content" id="skillsTabContent">
    <!-- Computer Skills Tab -->
    <div class="tab-pane fade show active" id="computerSkills" role="tabpanel" aria-labelledby="computer-skills-tab">
        <h3>Computer Skills</h3>
        {% for skill in skills_computer %}
            <p><strong>{{ skill.title }}</strong></p>
            <p>{{ skill.description }}</p>
            {% if current_user.is_admin %}
                <form method="POST" action="{{ url_for('main.delete_record', model_name='skill', item_id=skill.id) }}">
                    {{ skill_form.hidden_tag() }}
                    <button type="submit" class="btn btn-danger">Delete</button>
                </form>
            {% endif %}
        {% endfor %}
    </div>

    <!-- Snowboarding Skills Tab -->
    <div class="tab-pane fade" id="skiingSkills" role="tabpanel" aria-labelledby="skiing-skills-tab">
        <h3>Snowboarding Skills</h3>
        {% for skill in skills_skiing %}
            <p><strong>{{ skill.title }}</strong></p>
            <p>{{ skill.description }}</p>
            {% if current_user.is_admin %}
                <form method="POST" action="{{ url_for('main.delete_record', model_name='skill', item_id=skill.id) }}">
                    {{ skill_form.hidden_tag() }}
                    <button type="submit" class="btn btn-danger">Delete</button>
                </form>
            {% endif %}
        {% endfor %}
    </div>
</div>

<!-- Comments Section -->
<h3>User Comments</h3>
<div id="comments-container">
    <!-- Comments will be loaded dynamically using JS -->
</div>

<!-- Pagination Controls for Comments -->
<div id="pagination-controls">
    <!-- Pagination buttons will be dynamically generated by JavaScript -->
</div>

<!-- Comment Submission Form -->
<h3>Add a Comment</h3>
<input type="hidden" id="csrf_token" value="{{ csrf_token() }}">
<textarea id="new-comment" class="form-control" placeholder="Add a comment"></textarea>
<button id="submit-comment" class="btn btn-primary mt-2">Submit Comment</button>

{% endblock %}
